---
title: "Tissue Area Factory"
author: "Your Name"
date: '`r format(Sys.Date(), "%B %d, %Y")`'
output:
  html_document:
    code_folding: hide
    df_print: paged
    fig_caption: yes
    highlight: haddock
    theme: cosmo
    toc: yes
    toc_float:
      collapsed: no
      smooth_scoll: yes
abstract: "The aim of this "
---

# user input

```{r}
#USER INPUT
output_dir <- "data_output"
group_ID <- "P1761451"
sigma <- 15
threshold <- 3
window <- 30
```

# settings

```{r setup, include = FALSE}

package_dir <- rprojroot::find_rstudio_root_file()
dir <- file.path(package_dir,output_dir)
knitr::opts_knit$set(root.dir = dir,
                     base.dir=dir)
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  root.dir=dir,
  base.dir=dir)

Sys.setenv(TAR_WARN = "false")

if (identical(Sys.getenv("NOT_CRAN", unset = "false"), "false")) {
  knitr::opts_chunk$set(eval = FALSE)
}

targets::tar_unscript()
```
# call factory on user input

```{r}
library(targets)
library(RJobTissueArea)
target_factory(group_ID,
               output_dir,
               sigma,
               threshold,
               window)
```

# inspect factory

```{r}
tar_manifest()
```

```{r}
tar_network()
```

```{r}
tar_watch()
```

